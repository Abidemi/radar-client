<div class="patient-header">
  <div class="patient">
    <ul>
      <li class="name" ng-class="{'dead': patient.dateOfDeath}">
        <a ui-sref="patient.demographics({patientId: patient.id})">
          <span if-demographics-visible ng-bind="patient.getName(true)"></span>
          <span if-demographics-hidden ng-bind="patient.getName(false)"></span>
        </a>
      </li>

      <li class="info">
        <span>
          <span class="key">ID</span>
          <span class="value">{{patient.id}}</span>
        </span>
      </li>

      <li class="info">
        <span>
          <span class="key">DOB</span>
          <span if-demographics-visible>
            <span class="value" ng-if="patient.dateOfBirth">{{patient.dateOfBirth | dateFormat}}</span>
            <span class="value" ng-if="!patient.dateOfBirth">{{patient.yearOfBirth | missing}}</span>
          </span>

          <span if-demographics-hidden>
            <span class="value">{{patient.yearOfBirth | missing}}</span>
          </span>
        </span>
      </li>

      <li class="info">
        <span>
          <span class="key">Gender</span>
          <span class="value">{{patient.gender.label | missing}}</span>
        </span>
      </li>

      <li class="info" ng-if="patient.primaryPatientNumber" if-demographics-visible>
        <span>
          <span class="key">{{patient.primaryPatientNumber.numberGroup.shortName}}</span>
          <span class="value">{{patient.primaryPatientNumber.number}}</span>
        </span>
      </li>

      <li class="info">
        <span>
          <span class="key">Recruited On</span>
          <span class="value">{{patient.recruitedDate | dateFormat}}</span>
        </span>
      </li>

      <li class="info">
        <span>
          <span class="key">Recruited By</span>
          <span class="value">{{patient.recruitedUser.username}}</span>
        </span>
      </li>

      <li class="info">
        <span>
          <span class="key">Recruited At</span>
          <span class="value">{{patient.recruitedGroup.shortName}}</span>
        </span>
      </li>

      <li ng-repeat="x in patient.getCurrentCohorts()" class="info">
        <span>
          <span class="key">Cohort</span>
          <span class="value">{{x.shortName}}</span>
        </span>
      </li>

      <li ng-repeat="x in patient.getCurrentHospitals()" class="info">
        <span>
          <span class="key">Hospital</span>
          <span class="value">{{x.shortName}}</span>
        </span>
      </li>

      <li ng-if="viewDemographicsPermission" class="toggle-demographics" toggle-demographics></li>
    </ul>
  </div>

  <div patient-navigation patient="patient"></div>
</div>

<div page-wrapper>
  <div ui-view></div>
</div>
